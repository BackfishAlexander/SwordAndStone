{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nexport let CampaignViewComponent = class CampaignViewComponent {\n  constructor(campaignService, route, cd, auth) {\n    this.campaignService = campaignService;\n    this.route = route;\n    this.cd = cd;\n    this.auth = auth;\n    this.activeTab = 'characters'; // Default active tab\n    this.isCreateCharacterModalOpen = false;\n  }\n  ngOnInit() {\n    this.route.params.subscribe(params => {\n      this.campaignId = params['id']; // Get the id from the route parameter\n      this.campaignService.getCampaign(this.campaignId).subscribe(data => {\n        // Sort player characters by name in alphabetical order\n        if (data.playerCharacters) {\n          data.playerCharacters.sort((a, b) => a.characterName.localeCompare(b.characterName));\n        }\n        this.campaign = data;\n        console.log(data);\n        console.log(this.auth.getId());\n      }, error => {\n        if (error.status == 403) {\n          this.auth.logout();\n        }\n        if (error.status == 401) {\n          //TODO: Don't push the word retard into your github please\n          document.write(\"Nice try, retard. You don't have access to this campaign.\");\n        }\n        if (error.status == 400) {\n          document.write(\"Error loading campaign. Please try again.\");\n        }\n      });\n    });\n  }\n  setActiveTab(tab) {\n    this.activeTab = tab;\n  }\n};\nCampaignViewComponent = __decorate([Component({\n  selector: 'app-campaign-view',\n  templateUrl: './campaign-view.component.html',\n  styleUrls: ['./campaign-view.component.css']\n})], CampaignViewComponent);","map":{"version":3,"names":["Component","CampaignViewComponent","constructor","campaignService","route","cd","auth","activeTab","isCreateCharacterModalOpen","ngOnInit","params","subscribe","campaignId","getCampaign","data","playerCharacters","sort","a","b","characterName","localeCompare","campaign","console","log","getId","error","status","logout","document","write","setActiveTab","tab","__decorate","selector","templateUrl","styleUrls"],"sources":["/Users/alex/Documents/Programs/SwordInStone/Frontend/src/app/campaign-view/campaign-view.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { CampaignService } from '../services/campaign.service'; // Adjust the import path as needed\nimport { ChangeDetectorRef } from '@angular/core';\nimport { PlayerCharacter } from '../DTOs/PlayerCharacter';\nimport { AuthenticationService } from '../services/authentication.service';\n\n\n@Component({\n  selector: 'app-campaign-view',\n  templateUrl: './campaign-view.component.html',\n  styleUrls: ['./campaign-view.component.css']\n})\nexport class CampaignViewComponent implements OnInit {\n  activeTab: string = 'characters';  // Default active tab\n  campaign: any;\n  campaignId: any;\n  isCreateCharacterModalOpen: boolean = false;\n\n  constructor(\n    private campaignService: CampaignService,\n    private route: ActivatedRoute,\n    private cd: ChangeDetectorRef,\n    private auth: AuthenticationService\n  ) {}\n\n  ngOnInit(): void {\n    this.route.params.subscribe(params => {\n      this.campaignId = params['id']; // Get the id from the route parameter\n      this.campaignService.getCampaign(this.campaignId).subscribe(\n        (data) => {\n          // Sort player characters by name in alphabetical order\n          if (data.playerCharacters) {\n            data.playerCharacters.sort((a: PlayerCharacter, b: PlayerCharacter) => a.characterName.localeCompare(b.characterName));\n          }\n          this.campaign = data;\n          console.log(data);\n          console.log(this.auth.getId());\n        },\n        (error) => {\n          if (error.status == 403) {\n            this.auth.logout();\n          }\n          if (error.status == 401) {\n            //TODO: Don't push the word retard into your github please\n            document.write(\"Nice try, retard. You don't have access to this campaign.\");\n          }\n          if (error.status == 400) {\n            document.write(\"Error loading campaign. Please try again.\");\n          }\n        }\n      );\n    });\n  }\n\n  setActiveTab(tab: string): void {\n    this.activeTab = tab;\n  }\n}\n"],"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AAa1C,WAAMC,qBAAqB,GAA3B,MAAMA,qBAAqB;EAMhCC,YACUC,eAAgC,EAChCC,KAAqB,EACrBC,EAAqB,EACrBC,IAA2B;IAH3B,KAAAH,eAAe,GAAfA,eAAe;IACf,KAAAC,KAAK,GAALA,KAAK;IACL,KAAAC,EAAE,GAAFA,EAAE;IACF,KAAAC,IAAI,GAAJA,IAAI;IATd,KAAAC,SAAS,GAAW,YAAY,CAAC,CAAE;IAGnC,KAAAC,0BAA0B,GAAY,KAAK;EAOxC;EAEHC,QAAQA,CAAA;IACN,IAAI,CAACL,KAAK,CAACM,MAAM,CAACC,SAAS,CAACD,MAAM,IAAG;MACnC,IAAI,CAACE,UAAU,GAAGF,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;MAChC,IAAI,CAACP,eAAe,CAACU,WAAW,CAAC,IAAI,CAACD,UAAU,CAAC,CAACD,SAAS,CACxDG,IAAI,IAAI;QACP;QACA,IAAIA,IAAI,CAACC,gBAAgB,EAAE;UACzBD,IAAI,CAACC,gBAAgB,CAACC,IAAI,CAAC,CAACC,CAAkB,EAAEC,CAAkB,KAAKD,CAAC,CAACE,aAAa,CAACC,aAAa,CAACF,CAAC,CAACC,aAAa,CAAC,CAAC;;QAExH,IAAI,CAACE,QAAQ,GAAGP,IAAI;QACpBQ,OAAO,CAACC,GAAG,CAACT,IAAI,CAAC;QACjBQ,OAAO,CAACC,GAAG,CAAC,IAAI,CAACjB,IAAI,CAACkB,KAAK,EAAE,CAAC;MAChC,CAAC,EACAC,KAAK,IAAI;QACR,IAAIA,KAAK,CAACC,MAAM,IAAI,GAAG,EAAE;UACvB,IAAI,CAACpB,IAAI,CAACqB,MAAM,EAAE;;QAEpB,IAAIF,KAAK,CAACC,MAAM,IAAI,GAAG,EAAE;UACvB;UACAE,QAAQ,CAACC,KAAK,CAAC,2DAA2D,CAAC;;QAE7E,IAAIJ,KAAK,CAACC,MAAM,IAAI,GAAG,EAAE;UACvBE,QAAQ,CAACC,KAAK,CAAC,2CAA2C,CAAC;;MAE/D,CAAC,CACF;IACH,CAAC,CAAC;EACJ;EAEAC,YAAYA,CAACC,GAAW;IACtB,IAAI,CAACxB,SAAS,GAAGwB,GAAG;EACtB;CACD;AA7CY9B,qBAAqB,GAAA+B,UAAA,EALjChC,SAAS,CAAC;EACTiC,QAAQ,EAAE,mBAAmB;EAC7BC,WAAW,EAAE,gCAAgC;EAC7CC,SAAS,EAAE,CAAC,+BAA+B;CAC5C,CAAC,C,EACWlC,qBAAqB,CA6CjC"},"metadata":{},"sourceType":"module","externalDependencies":[]}