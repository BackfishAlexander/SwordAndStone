{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nexport let HomeComponent = class HomeComponent {\n  fetchCampaigns() {\n    this.http.get(`http://` + this.auth.getBackendIP() + `:8080/private/campaign/list`, {\n      headers: this.auth.getHeaders()\n    }).subscribe(response => {\n      this.campaigns = Object.entries(response).map(([id, {\n        name,\n        description\n      }]) => ({\n        id,\n        name,\n        description\n      }));\n    }, error => {\n      console.error('Failed to fetch campaigns', error);\n      if (error.status == 403) {\n        this.auth.logout();\n      }\n    });\n  }\n  goToCampaign(campaignId) {\n    this.router.navigate(['/campaign', campaignId]);\n  }\n  deleteCampaign(campaignId) {\n    this.auth.deleteRequest(\"/private/campaign/delete/\" + campaignId);\n  }\n  openModal() {\n    this.showModal = true;\n  }\n  closeModal() {\n    console.log(\"CLOSING THE MODAL!!!!\");\n    this.showModal = false;\n  }\n  submitCampaign() {\n    // Implement submission logic here\n    console.log('Campaign Submitted:', this.campaign);\n    this.http.post('http://' + this.auth.getBackendIP + ':8080/private/campaign/add', this.campaign, {\n      headers: this.auth.getHeaders(),\n      responseType: 'text'\n    }).subscribe(response => {\n      this.fetchCampaigns();\n    }, error => {\n      if (error.status == 403) {\n        this.auth.logout();\n      }\n    });\n    this.closeModal();\n  }\n  constructor(cookieService, router, http, auth) {\n    this.cookieService = cookieService;\n    this.router = router;\n    this.http = http;\n    this.auth = auth;\n    this.username = \"\";\n    this.campaigns = [];\n    this.showModal = false;\n    this.campaign = {\n      campaignName: '',\n      campaignDescription: '',\n      username: '',\n      id: ''\n    };\n  }\n  ngOnInit() {\n    this.username = this.auth.getUsername();\n    if (!this.auth.isLoggedIn()) {\n      this.router.navigate(['/login']);\n    }\n    this.fetchCampaigns();\n  }\n};\nHomeComponent = __decorate([Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.css']\n})], HomeComponent);","map":{"version":3,"names":["Component","HomeComponent","fetchCampaigns","http","get","auth","getBackendIP","headers","getHeaders","subscribe","response","campaigns","Object","entries","map","id","name","description","error","console","status","logout","goToCampaign","campaignId","router","navigate","deleteCampaign","deleteRequest","openModal","showModal","closeModal","log","submitCampaign","campaign","post","responseType","constructor","cookieService","username","campaignName","campaignDescription","ngOnInit","getUsername","isLoggedIn","__decorate","selector","templateUrl","styleUrls"],"sources":["/Users/alex/Documents/Programs/SwordInStone/Frontend/src/app/home/home.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { CookieService } from 'ngx-cookie-service';  // Assuming you're using ngx-cookie-service to handle cookies\nimport { Router } from '@angular/router';\nimport { HttpClient } from '@angular/common/http';\nimport { AuthenticationService } from '../services/authentication.service';\n\n@Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.css']\n})\n\nexport class HomeComponent implements OnInit {\n  username: string | null = \"\";\n  campaigns: {name: string, description: string, id: string}[] = [];\n\n  showModal: boolean = false;\n  campaign = {\n    campaignName: '',\n    campaignDescription: '',\n    username: '',\n    id: ''\n  };\n\n  fetchCampaigns() {\n    this.http.get<{ [key: string]: { name: string; description: string; } }>(`http://` + this.auth.getBackendIP() + `:8080/private/campaign/list`, { headers: this.auth.getHeaders() })\n      .subscribe(response => {\n        this.campaigns = Object.entries(response).map(([id, { name, description }]) => ({\n          id,\n          name,\n          description\n        }));\n      }, error => {\n        console.error('Failed to fetch campaigns', error);\n        if (error.status == 403) {\n          this.auth.logout();\n        }\n      });\n  }\n\n  goToCampaign(campaignId: string) {\n    this.router.navigate(['/campaign', campaignId]);\n  }\n\n  deleteCampaign(campaignId: String) {\n    this.auth.deleteRequest(\"/private/campaign/delete/\" + campaignId);\n  }\n\n  openModal() {\n    this.showModal = true;\n  }\n\n  closeModal() {\n    console.log(\"CLOSING THE MODAL!!!!\");\n    this.showModal = false;\n  }\n\n  submitCampaign() {\n    // Implement submission logic here\n    console.log('Campaign Submitted:', this.campaign);\n    this.http.post('http://' + this.auth.getBackendIP + ':8080/private/campaign/add', this.campaign, { headers: this.auth.getHeaders(), responseType: 'text' })\n      .subscribe(response => {\n        this.fetchCampaigns();\n      }, error => {\n        if (error.status == 403) {\n          this.auth.logout();\n        }\n      });\n    this.closeModal();\n  }\n  \n  constructor(private cookieService: CookieService, \n    private router: Router, \n    private http: HttpClient,\n     private auth: AuthenticationService) {\n  }\n\n  \n\n  ngOnInit() {\n    this.username = this.auth.getUsername();\n\n    if (!this.auth.isLoggedIn()) {\n      this.router.navigate(['/login']);\n    }\n\n    this.fetchCampaigns();\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}